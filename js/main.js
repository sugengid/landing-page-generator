function toggleTheme(){const e=document.documentElement,t="dark"===e.getAttribute("data-theme")?"light":"dark";e.setAttribute("data-theme",t),localStorage.setItem("lp-theme",t)}function initTheme(){const e=localStorage.getItem("lp-theme");if(e)document.documentElement.setAttribute("data-theme",e);else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-theme",e)}}function toggleFaq(e){const t=e.parentElement,o=t.classList.contains("active");document.querySelectorAll(".faq-item.active").forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active",!o)}function openLightbox(e){const t=document.getElementById("galleryLightbox"),o=document.getElementById("lightboxImage"),s=document.getElementById("lightboxCaption"),n=document.querySelectorAll(".gallery-lightbox-grid .gallery-item");if(t&&o&&n[e]){const a=n[e],c=a.querySelector("img"),l=a.querySelector(".gallery-caption p");o.src=c.src,o.alt=c.alt,s.textContent=l?.textContent||"",t.classList.add("active"),document.body.style.overflow="hidden"}}function closeLightbox(){const e=document.getElementById("galleryLightbox");e&&(e.classList.remove("active"),document.body.style.overflow="")}function openWhatsappModal(){const e=document.getElementById("waModalBackdrop"),t=document.getElementById("waModal");e&&e.classList.add("active"),t&&t.classList.add("active"),document.body.style.overflow="hidden"}function closeWhatsappModal(){const e=document.getElementById("waModalBackdrop"),t=document.getElementById("waModal");e&&e.classList.remove("active"),t&&t.classList.remove("active"),document.body.style.overflow=""}function submitWhatsappForm(e,t){e.preventDefault();const o=document.getElementById("waName")?.value||"",s=document.getElementById("waAddress")?.value||"",n="https://wa.me/"+t+"?text="+encodeURIComponent("Halo, saya ingin bertanya.\n\nNama: "+o+"\nAlamat: "+s);window.open(n,"_blank"),closeWhatsappModal();const a=document.getElementById("waForm");a&&a.reset()}!function(){const e=document.getElementById("navToggle"),t=document.getElementById("navMenu");e&&t&&(e.addEventListener("click",function(o){e.classList.toggle("active"),t.classList.toggle("active")}),t.querySelectorAll("a").forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("active"),t.classList.remove("active")})})),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const o=document.querySelector(t);if(o){const e=80,t=o.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:t,behavior:"smooth"})}})});const o=document.querySelector(".site-header"),s=document.getElementById("backToTop");if(o){let l=0,i=!1;const d=80;function n(){const e=window.pageYOffset;e>10?o.classList.add("header-scrolled"):o.classList.remove("header-scrolled"),e>d&&e>l?o.classList.add("header-hidden"):o.classList.remove("header-hidden"),s&&(e>400?s.classList.add("visible"):s.classList.remove("visible")),l=e,i=!1}window.addEventListener("scroll",()=>{i||(requestAnimationFrame(n),i=!0)},{passive:!0}),e&&t&&e.addEventListener("click",()=>{t.classList.contains("active")&&o.classList.remove("header-hidden")})}else s&&window.addEventListener("scroll",()=>{window.pageYOffset>400?s.classList.add("visible"):s.classList.remove("visible")},{passive:!0});s&&s.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("is-visible")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("section").forEach(e=>{e.classList.add("animate-on-scroll"),a.observe(e)});const c=document.querySelector(".hero");c&&c.classList.add("is-visible"),initTheme()}(),document.addEventListener("keydown",function(e){"Escape"===e.key&&(closeLightbox(),closeWhatsappModal())});